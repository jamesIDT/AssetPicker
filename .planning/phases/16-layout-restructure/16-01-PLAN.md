---
phase: 16-layout-restructure
plan: 01
type: execute
---

<objective>
Restructure the dashboard layout into a professional analyst view with side-by-side hero charts and improved information hierarchy.

Purpose: Transform scattered expanders into a cohesive dashboard with the most important visualizations (RSI Scatter + Acceleration Quadrant) prominently displayed side-by-side.
Output: New layout with hero charts, visible data panels below, and Signal Lifecycle collapsed.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/15-design-system/15-01-SUMMARY.md
@app.py

**Design decisions from v3.0:**
- RSI Scatter + Acceleration Quadrant side-by-side as hero
- Market Regime banner always visible at top (already done)
- Opportunity Leaderboard + Sector Momentum visible below charts (not in expanders)
- Signal Lifecycle remains collapsed expander
- Preserve existing functionality - layout change only

**Current layout structure (lines 804-1400+):**
- Title + refresh button
- Regime banner
- Sector filter + color mode + z-score toggle
- RSI Scatter (full width)
- Opportunities/Caution columns (to be removed in Phase 20)
- Signal Lifecycle (expander)
- Sector Momentum (expander)
- Acceleration Quadrant (expander)
- Opportunity Leaderboard (expander)

**Target layout:**
1. Title + refresh button (unchanged)
2. Regime banner (unchanged)
3. Sector filter + color mode + z-score toggle (unchanged)
4. **HERO ROW: RSI Scatter (65%) | Acceleration Quadrant (35%)**
5. Opportunities/Caution columns (keep for now - removed in Phase 20)
6. **DATA PANELS ROW: Opportunity Leaderboard (50%) | Sector Momentum (50%)**
7. Signal Lifecycle (collapsed expander - at bottom)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create side-by-side hero charts</name>
  <files>app.py</files>
  <action>
Refactor the main UI section to display RSI Scatter and Acceleration Quadrant side-by-side:

1. After the filter controls (around line 984), create a two-column layout:
   ```python
   chart_col1, chart_col2 = st.columns([0.65, 0.35])
   ```

2. Move RSI Scatter chart into chart_col1:
   - Keep all existing logic for building the chart
   - Display with `st.plotly_chart(fig, use_container_width=True)`

3. Move Acceleration Quadrant content into chart_col2:
   - Extract the acceleration quadrant logic from its expander (lines 1240-1255)
   - Place directly in chart_col2 without expander wrapper
   - Keep the caption below the chart
   - Handle empty state: show info message if no acceleration data

4. Remove the old Acceleration Quadrant expander (lines 1239-1255)

Note: This moves code from ~line 1240 up to ~line 985. Be careful not to break variable references - the coin data filtering for acceleration still needs access to st.session_state.coin_data.
  </action>
  <verify>
    - `python -m streamlit run app.py --server.headless true` starts without errors
    - Visual check: RSI Scatter on left, Acceleration Quadrant on right
  </verify>
  <done>
    - RSI Scatter and Acceleration Quadrant display side-by-side
    - No Acceleration Quadrant expander remains
    - Both charts are responsive
  </done>
</task>

<task type="auto">
  <name>Task 2: Create visible data panels row</name>
  <files>app.py</files>
  <action>
Create a visible (non-expander) row for Opportunity Leaderboard and Sector Momentum:

1. After the Opportunities/Caution columns (around line 1028), add a horizontal divider and section header:
   ```python
   st.markdown("---")
   st.subheader("Market Analysis")
   ```

2. Create two-column layout for data panels:
   ```python
   panel_col1, panel_col2 = st.columns(2)
   ```

3. Move Opportunity Leaderboard into panel_col1:
   - Extract content from its expander (lines 1258-1405)
   - Add a subheader: `st.markdown("### Opportunity Leaderboard")`
   - Keep all filter logic, tabs, and table rendering
   - Remove expander wrapper

4. Move Sector Momentum into panel_col2:
   - Extract content from its expander (lines 1144-1237)
   - Add a subheader: `st.markdown("### Sector Momentum")`
   - Keep all chart and table rendering
   - Remove expander wrapper

5. Remove the old expanders for both sections

Note: Sector Momentum imports pandas and plotly.graph_objects - ensure imports remain at module level or within the column context.
  </action>
  <verify>
    - `python -m streamlit run app.py --server.headless true` starts without errors
    - Visual check: Opportunity Leaderboard and Sector Momentum visible without clicking expanders
  </verify>
  <done>
    - Opportunity Leaderboard and Sector Momentum display side-by-side below charts
    - No expanders for these sections
    - All functionality preserved (filters, tabs, tables)
  </done>
</task>

<task type="auto">
  <name>Task 3: Move Signal Lifecycle to bottom</name>
  <files>app.py</files>
  <action>
Ensure Signal Lifecycle is the last section and remains in a collapsed expander:

1. The Signal Lifecycle expander (lines 1030-1141) should be moved to AFTER the data panels row
2. Keep it as `st.expander("ðŸ“Š Signal Lifecycle Analysis", expanded=False)`
3. Add a divider before it for visual separation:
   ```python
   st.markdown("---")
   ```

4. Verify the final order is:
   - Title + refresh
   - Regime banner
   - Filters/toggles
   - Hero charts (RSI Scatter | Acceleration)
   - Opportunities/Caution lists
   - Market Analysis header
   - Data panels (Leaderboard | Sector Momentum)
   - Divider
   - Signal Lifecycle (collapsed expander)

Note: The Signal Lifecycle section accesses st.session_state.coin_data which is set earlier - no changes needed to data access.
  </action>
  <verify>
    - `python -m streamlit run app.py --server.headless true` starts without errors
    - Visual check: Signal Lifecycle is at the bottom in a collapsed expander
  </verify>
  <done>
    - Signal Lifecycle is the last section
    - Remains in collapsed expander
    - No functionality changes
  </done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `python -m streamlit run app.py --server.headless true` starts without errors
- [ ] RSI Scatter and Acceleration Quadrant side-by-side in hero row
- [ ] Opportunity Leaderboard and Sector Momentum visible (no expanders)
- [ ] Signal Lifecycle at bottom in collapsed expander
- [ ] All existing functionality preserved (filters, tabs, toggles, charts)
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No Python errors or warnings
- Layout matches target hierarchy from roadmap
</success_criteria>

<output>
After completion, create `.planning/phases/16-layout-restructure/16-01-SUMMARY.md`
</output>

---
phase: 13-acceleration-quadrant
plan: 01
type: execute
---

<objective>
Create new Acceleration Quadrant visualization showing RSI acceleration vs volatility regime for opportunity detection.

Purpose: Identify "coiled spring" opportunities where RSI is accelerating while volatility is compressedâ€”the highest-conviction entry signals.
Output: New expander section with quadrant scatter plot, quadrant labels, and color encoding by RSI level.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase context:
@.planning/phases/07-data-layer-extensions/07-02-SUMMARY.md
@.planning/phases/12-sector-momentum/12-01-SUMMARY.md

# Key source files:
@src/indicators.py - calculate_rsi_acceleration(), detect_volatility_regime() already implemented
@src/charts.py - Plotly chart patterns
@app.py - Streamlit UI structure with expander pattern

**Tech stack available:** Python + Streamlit + Plotly (from v1.0)
**Established patterns:**
- Expander sections for analysis views (Signal Lifecycle, Sector Momentum)
- Session state for data persistence
- Plotly scatter with shape/color encoding
- Data already calculated during main refresh (acceleration, volatility in coin_data)

**Constraining decisions:**
- Phase 7: `calculate_rsi_acceleration()` returns velocity, acceleration, interpretation
- Phase 7: `detect_volatility_regime()` returns current_atr, avg_atr, ratio, regime (compressed/normal/expanded)

**Quadrant spec from ROADMAP:**
- X-axis: RSI Acceleration (negative = decelerating, positive = accelerating)
- Y-axis: Volatility Ratio (compressed < 0.7 | normal | expanded > 1.3)
- Top-Right: Accelerating + High Vol = Explosive move in progress
- Top-Left: Decelerating + High Vol = Move exhausting
- Bottom-Right: Accelerating + Compressed = Coiled spring (BEST SIGNAL)
- Bottom-Left: Decelerating + Compressed = Dormant
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add build_acceleration_quadrant chart function</name>
  <files>src/charts.py</files>
  <action>Add new function `build_acceleration_quadrant(coins: list[dict]) -> go.Figure` that:
  1. Extract acceleration (from coin["acceleration"]["acceleration"]) and volatility_ratio (from coin["volatility"]["ratio"]) for each coin
  2. Create scatter plot with X = acceleration, Y = volatility_ratio
  3. Color dots by daily RSI (use existing RdYlGn_r colorscale, 0-100 range)
  4. Add quadrant boundary lines at x=0 (vertical) and y=0.7, y=1.3 (horizontal)
  5. Add quadrant labels with annotations:
     - Top-Right (>0, >1.3): "Explosive Move ðŸ’¥"
     - Top-Left (<0, >1.3): "Exhausting âš ï¸"
     - Bottom-Right (>0, <0.7): "Coiled Spring ðŸŽ¯"
     - Bottom-Left (<0, <0.7): "Dormant ðŸ’¤"
     - Middle band (0.7-1.3): no special label needed
  6. Hover text shows: symbol, daily RSI, acceleration, volatility regime, interpretation
  7. Skip coins missing acceleration or volatility data
  Use similar style to main scatter (dark theme, consistent margins). Size dots uniformly (no size encoding needed).</action>
  <verify>Function exists, returns Figure, no syntax errors: python -c "from src.charts import build_acceleration_quadrant; print('OK')"</verify>
  <done>build_acceleration_quadrant function implemented with quadrant layout and proper color encoding</done>
</task>

<task type="auto">
  <name>Task 2: Add Acceleration Quadrant expander to app.py</name>
  <files>app.py</files>
  <action>Add new expander section after Sector Momentum expander:
  1. Add expander: `with st.expander("ðŸ“Š Acceleration Quadrant", expanded=False):`
  2. Filter coins that have both "acceleration" and "volatility" keys in their data
  3. Call build_acceleration_quadrant(filtered_coins) to get figure
  4. Display with st.plotly_chart(fig, use_container_width=True)
  5. Add brief explanation below chart: "Bottom-right quadrant (Accelerating + Compressed volatility) = highest conviction. Watch for explosive moves in top-right."
  6. If no coins have data, show st.info("Acceleration data requires price history. Refresh to load.")
  Import build_acceleration_quadrant from src.charts.</action>
  <verify>Run app: streamlit run app.py --server.headless true & sleep 3 && curl -s localhost:8501 | grep -q "Acceleration" && echo "OK"</verify>
  <done>Acceleration Quadrant expander visible in UI, chart renders when data available</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `python -c "from src.charts import build_acceleration_quadrant; print('OK')"` succeeds
- [ ] No Python syntax errors: `python -m py_compile app.py src/charts.py`
- [ ] App runs without errors: streamlit run app.py (manual check)
- [ ] Quadrant displays correctly with dots colored by RSI
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- build_acceleration_quadrant function implemented
- Acceleration Quadrant expander visible in app
- Quadrant labels display correctly
- Color encoding shows RSI values intuitively
</success_criteria>

<output>
After completion, create `.planning/phases/13-acceleration-quadrant/13-01-SUMMARY.md` following the summary template in ./summary.md
</output>
